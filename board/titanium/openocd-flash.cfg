# Copyright 2018 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

add_script_search_dir "board/${BOARD}"
source [find titanium-jtag.cfg]
source [find target/stm32f4x.cfg]

reset_config srst_only

# increase working area to 256KB
set WORKAREASIZE 0x40000

# For flashing, force the board into reset on connect, this ensures that
# code running on the core can't interfere with programming.
reset_config connect_assert_srst

gdb_port 3121
tcl_port 0
telnet_port 0
init
reset init
#flash write_image erase unlock $BUILD_DIR/ec.bin 0x08000000
reset halt
resume
shutdown
